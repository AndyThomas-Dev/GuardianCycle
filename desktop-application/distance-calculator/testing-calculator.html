<!DOCTYPE html>
<html>
    
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
</head>

<body>
    
<p>Complete the fields to calculate estimated distance:</p>
    
<form id="frm1" action="/action_page.php">
    
<b>Start:</b> <br><br>     
  Long: <input type="number" name="inputlong1" id="inputlong1" onchange="myfunc()"><br><br>
  Lat: <input type="number" name="inputlat1" id="inputlat1" onchange="myfunc()"><br><br>

<b>End:</b> <br><br>     
  Long: <input type="number" name="inputlong2" id="inputlong2" onchange="myfunc()"><br><br>
  Lat: <input type="number" name="inputlat2" id="inputlat2" onchange="myfunc()"><br><br>
    
  <input type="button" onclick="myfunc()" value="Submit">

</form>
    
<br>

<b>Start:</b><br><br>
<b>Long: </b>
<p id="long1"></p>

<b>Lat: </b>
<p id="lat1"></p>
    
<b>End:</b><br><br>
<b>Long: </b>
<p id="long2"></p>

<b>Lat: </b>
<p id="lat2"></p>
    
<br><br>    
<b>Distance (Km): </b>
<p id="dist"></p>
    
 <script>
    function myfunc()
    {   
        
        document.getElementById("long1").innerHTML = document.getElementById("inputlong1").value;
        document.getElementById("lat1").innerHTML = document.getElementById("inputlat1").value;

        document.getElementById("long2").innerHTML = document.getElementById("inputlong2").value;
        document.getElementById("lat2").innerHTML = document.getElementById("inputlat2").value;
        
        var d = getDistanceFromLatLonInKm(document.getElementById("lat1").innerHTML, 
                                          document.getElementById("long1").innerHTML,
                                          document.getElementById("lat2").innerHTML,
                                          document.getElementById("long2").innerHTML
                                         )
        document.getElementById("dist").innerHTML = d;
    } 
     
     function getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {
          var R = 6371; // Radius of the earth in km
          var dLat = deg2rad(lat2-lat1);  // deg2rad below
          var dLon = deg2rad(lon2-lon1); 
          var a = 
            Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * 
            Math.sin(dLon/2) * Math.sin(dLon/2)
            ; 
          var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
          var d = R * c; // Distance in km
          return d;
     }

    function deg2rad(deg) {
      return deg * (Math.PI/180)
    }
     
</script>
    

</body>
</html>
