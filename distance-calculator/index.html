<!DOCTYPE html>
<html>
    
<head>
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
</head>

<body>
    
<p>Complete the fields to calculate estimated distance:</p>
    
<form id="frm1" action="/action_page.php">
    
  <input type="button" onclick="myfunc()" value="Submit">    
  <input type="button" onclick="myfunc()" value="Submit">

</form>
    
<br>

<b>Start:</b><br><br>
<b>Long: </b>
<p id="long1"></p>

<b>Lat: </b>
<p id="lat1"></p>

<br><br>    
<b>End:</b><br><br>
<b>Long: </b>
<p id="long3"></p>

<b>Lat: </b>
<p id="lat3"></p>
    
<br><br>    
<b>Distance: Total Journey (Km): </b>
<p id="dist"></p>
    
<br><br>    
<b>Counter: </b>
<p id="counter"></p>

<br><br>    
<b>Length: </b>
<p id="length"></p>   
    
 <script>
     
    function myfunc()
    {   
        const json = 
        '{"coordinates":[ [-2.5906169414520264 , 51.45326480293432],'
        + '[-2.5890183448791504 , 51.45262965662454],'
        + '[-2.588406801223755 , 51.4523421664424],'
        + '[-2.5869154930114746 , 51.45115875755905]] }';
     
        const obj = JSON.parse(json);
        var length = obj.coordinates.length;
        
        // FIRST
        document.getElementById("long1").innerHTML = obj.coordinates[0][0];
        document.getElementById("lat1").innerHTML = obj.coordinates[0][1];
        
        // LAST
        document.getElementById("long3").innerHTML = obj.coordinates[3][0];
        document.getElementById("lat3").innerHTML = obj.coordinates[3][1];
        
        // TOTAL NUMBER OF CO-ORDs
        document.getElementById("length").innerHTML = length;
        
        // Initiates sum with distance between first 2 points
        var sum = getDistanceFromLatLonInKm(obj.coordinates[0][0], 
                                              obj.coordinates[0][1],
                                              obj.coordinates[1][0],
                                              obj.coordinates[1][1]
                                             );
        var i; var j;
        
        for (i = 1; i < length-1; i++)
        {                                    
            j = i+1;
            var d = getDistanceFromLatLonInKm(obj.coordinates[i][0], 
                                              obj.coordinates[i][1],
                                              obj.coordinates[j][0],
                                              obj.coordinates[j][1])
            
            sum = d+sum;
        }

        
        document.getElementById("dist").innerHTML = sum;
        document.getElementById("counter").innerHTML = i;
    }
     
     function getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {
          var R = 6371; // Radius of the earth in km
          var dLat = deg2rad(lat2-lat1);  // deg2rad below
          var dLon = deg2rad(lon2-lon1); 
          var a = 
            Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * 
            Math.sin(dLon/2) * Math.sin(dLon/2)
            ; 
          var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
          var d = R * c; // Distance in km
          return d;
     }

    function deg2rad(deg) {
      return deg * (Math.PI/180)
    }
     
</script>
    

</body>
</html>